<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ชำระเงิน</title>

<style>
body{font-family:Arial;background:#f6f7fb;margin:0;padding:15px}
.card{background:#fff;border-radius:12px;padding:15px;margin-bottom:15px}
input,textarea{width:100%;padding:10px;border-radius:8px;border:1px solid #ccc;margin-top:5px}
textarea{height:80px}
.total{display:flex;justify-content:space-between;font-weight:bold;margin-top:10px}
button{width:100%;padding:14px;border:none;border-radius:10px;font-size:16px;margin-top:10px;cursor:pointer}
.confirm{background:#4CAF50;color:#fff}
.back{background:#ccc}
</style>
</head>

<body>

<h2 align="center">ข้อมูลการจัดส่ง</h2>

<div class="card">
  <label>ชื่อ - นามสกุล</label>
  <input id="fullname">

  <label>เบอร์โทร</label>
  <input id="phone">

  <label>ที่อยู่</label>
  <textarea id="address"></textarea>
</div>

<div class="card">
  <h3>วิธีชำระเงิน</h3>
  <label><input type="radio" name="pay" value="qr"> QR Code</label>

  <div class="total">
    <span>ยอดรวม</span>
    <span id="totalPrice">0.00</span>
  </div>
</div>

<button class="confirm" onclick="goPay()">ยืนยันการชำระเงิน</button>
<button class="back" onclick="location.href='index2.html'">กลับตะกร้า</button>

<script>
document.getElementById("totalPrice").innerText =
  Number(localStorage.getItem("totalPrice") || 0).toFixed(2);

function goPay(){
  const n=fullname.value.trim();
  const p=phone.value.trim();
  const a=address.value.trim();
  if(!n||!p||!a){alert("กรอกข้อมูลให้ครบ");return;}

  localStorage.setItem("customerName",n);
  localStorage.setItem("customerPhone",p);
  localStorage.setItem("customerAddress",a);

  const pay=document.querySelector('input[name="pay"]:checked').value;
  localStorage.setItem("paymentMethod",pay);

  location.href = pay==="qr" ? "index6.html" : "index5.html";
}
</script>

</body>
</html>